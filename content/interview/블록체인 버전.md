## BlockChain 의 등장 배경
2008 년 미국의 `리만 브라더스 은행` 이 660조원의 빛을 지고 파산하며 글로벌 금융 위기를 초래했습니다. 이 때문에 2008 당시에는 사람들이 금융기관에 대한 굉장한 큰 적대심이 있었습니다.

이 때, 사토시 나카모토라는 사람이 전자화폐를 만들 때, 은행을 사용하지 않고 만들 수 없을까? 라는 생각을 했고, 이 때문에 `블록체인` 이 등장하게 됩니다.

위조 전자화폐를 관리하는 기술

## Block 과 BlockChain
**Block**
- 특정 시간대에서 이루어진 거래(Transaction) 들의 집합을 의미하며. 이는 곧 장부를 의미하게 된다.

**BlockChain**
- 이러한 장부(Block)들을 사슬처럼 쭉 연결시켜놓은 것이다.
- 한마디로 표현하자면 `블록체인은 중앙 집중화된 관리 방식을 여러개로 노드로 분산하여 탈중앙화된 형태로 만들기 위한 기술`이다. 
- 블록체인은 모든 사람들이 감시자의 역할을 하여 위조 전자화폐의 위폐를 단속하는 기술입니다.
- 블록체인은 내부적으로 분산화된 사용자들끼리의 거래 유효성을 검증하는 BlockChain Consensus(합의) 기술을 사용한다.


![](interview/images/Pasted%20image%2020240602210140.png)

블록체인 기술을 이용하면 `분산화된 사용자 모두가 투표를 통해 화폐의 유효성을 검증하는 기존 은행의 역할을 대신` 할 수 있어, 기존의 중앙기관 역할을 하였던 은행을 없앨 수 있게 된다.

> [!note] BlockChain Consensus
> 블록체인은 내부적으로 BlockChain Consensus 이라는 블록체인 합의 기술을 사용한다.

### 왜 사슬 형태일까
인터넷에서는 시간의 개념이 존재하지 않기 때문이다. (우리나라에서 쓰는 시간과 미국에서 쓰는 시간이 다름).  따라서 시간에 대한 기준을 세울수가 없음. 만약 시간에 대한 기준을 세우려면 시간을 알려주는 기관이 생긴다면 또 하나의 신뢰기관이 되고 그것이 하나의 중앙기관이 되기 때문이다.

이를 통해 Block 이 정확히 몇시에 만들어졌는지는 모르지만 장부 152 번이 153 번보다 먼저 만들어졌다는 것을 알 수 있다.

> [!note] 블록체인은 위변조가 어렵다.
> 특정 시간의 장부를 위조하려면 우선 장부의 전자서명을 위조해야하고, 해당 장부의 앞뒤 체인을 위조해야함. 또한 이 고리는 앞뒤로 다 연결되어있어 전체 Chain 을 위조해야 함.

### BlockChain Consensus 기술
BlockChain Consensus(합의) 기술은 BlockChain 의 핵심기술로 `분산화된 사용자 및 시스템끼리의 거래 유효성을 검증하는 역할`을 한다. 이러한 블록체인 합의 기술에는 5가지가 있지만 대표적으로 `PoW 기술`이 있다.
#### PoW(Proof of Work)
- 참가자가 일(합의)을 하고 그에 대한 보상(Reward) 를 받는 것. 이것을 다른말로 Mining. 즉, 채굴이라고 한다.
- 작업 증명 그리고 채굴과 직접적으로 관련된것이 바로 PoW 이며 실제 BitCoin 과 Etherenum 에 사용된다.
- `제일 먼저 새로운 Block 을 만들어 공유한 사람한테 BTC 를 주는 방식으로 동작`한다.
- PoW(Proof of Work) 기반의 블록체인, 특히 비트코인(Bitcoin)에서의 `합의 기술은 장부를 비교하여 거래 내역의 유효성을 검증하는 과정`이다. 여기서 `장부를 비교하는 과정은 투표를 통해 이루어진다`.

> [!note] 왜 보상을 줄까?
> Block 을 만들으려는 사용자들에게 자발적 동기부여를 주기 위함이다. 그렇다면 보상이 없으면 왜 안하려고 할까? 그 이유는 자기재산을 사용해야하기 때문이다 (예로 전기)

### PoW 기반 BlockChain 동작 원리
우리가 인터넷에서 비트코인 프로그램을 설치한다면 크게 두가지 종류의 SW 가 설치된다. 

**전자지갑**
- 통장과 같은 역할

**블록체인 프로그램**
- 인터넷을 24시간 365일 감시하여 `사용된 화폐의 일련번호를 기록`하는 역할을 함.

아래의 사진과 같이 상점의 사용자들이 24시간 블록체인 프로그램을 동작시킨다면 `중앙은행 없이 비트코인 사용자들이 합심하여 은행의 역할을 대체할 수 있다.`

![](interview/images/Pasted%20image%2020240602234714.png)
#### 비잔틴 오류의 발생
비잔틴 오류란 `분산되어있는 컴퓨터 및 데이터베이스의 데이터가 서로 불일치하는 현상`을 말한다. 블록체인은 모든 사람이 감시자의 역할을 하는 기술이기때문에 비잔틴오류가 발생할 수밖에 없다.

- 만약 특정한 사용자의 컴퓨터가 꺼져 블록체인 프로그램이 꺼진다면, 꺼진 사용자의 장부가 초기화되기 떄문에 후에 비트코인의 이중사용을 검사할때 혼자 다른 결과를 낼 수 있다. 세부적으로는 다른 컴퓨터는 사용된 비트코인이 중복사용된다고 경고를 내는 반면 꺼졌던 사용자의 컴퓨터에서는 혼자 신규 비트코인이라고 결과를 낼 수 있음

![](interview/images/Pasted%20image%2020240602234648.png)

#### 비잔틴 오류의 해결
블록체인의 기술을 이용한 BitCoin 은 비잔틴 오류를 해결하기 위해 10분마다 BlockChain 의 Block 을 검사하여 데이터가 모두 같은지 확인한다. 이때 분산된 BlockChain Block 들의 데이터가 불일치하면 투표를 하게 된다. 투표에 들어가게 되면 `다수결의 원칙에 따라 다른 데이터를 수정하게 된다`(여기서는 초록색 옷을 입은 사람의 장부의 데이터가 수정되게 된다). 그리고 그 중, `제일 먼저 새로운 장부(Block) 을 만든 사용자에게 BTC 를 제공하여 보상`을 준다. 

![](interview/images/Pasted%20image%2020240602235035.png)

#### Sybil Attack
유효한 Block 은 길이가 가장 긴 Block 이다. 해커는 이점을 이용하여 `허위 계정 여러개`를 생성하여 Block 을 자신의  의도대로 길게 만들어 블록체인을 위변조시킬 수 있다. 이 공격을 `Sybil Attack` 이라고 한다.

> [!note] Sybil Attack 해결책
> Sybil Attack 을 해결하기위해서는 사용자가 Block 을 만드는 과정에 적당히 어려운 암호퍼즐을 같이 풀도록 하면 된다.
> 정확히는 암호퍼즐을 해결했다는 작업증명을 한 경우에만 Block 을 생성할 수 있게 하는것이다.

### BlockChain 의 본질과 특징
**탈중앙화**
- 분산된 모든 사용자들이 투표를 통해 거래의 유효성을 검증하여 중앙의 은행을 없앨 수 있다. 그렇기 때문에 블록체인 기술을 이용하면 `중앙의 관리기관을 없앨 수 있다.` 이는 블록체인 기술의 큰 특징이며 이를 `탈중앙화` 라고 한다.
- 이용자들의 서비스 운영에 참여 & 의견 충돌시 합의(인터넷 투표) 메커니즘을 통해 중재

**투명성**
- 정보의 비대칭성이 사라진다.
- 똑같은 정보를 담은 블록체인이 모든 이용자들의 하드디스크에 저장되어있기 때문에 `"너가 볼 수 있는 데이터(장부) 는 나도 똑같이 볼 수 있다"` 의미를 내포하고있는 `투명성` 이 블록체인이 갖는 두번째 특성이다.

**불변성**
- 모든 이용자들의 하드디스크에 똑같은 블록체인이 저장되어있기 때문에 블록체인에 기록된 데이터를 삭제하거나 수정하려면 이용자들의 동의없이 불가능하다.

**가용성**
- 데이터가 여러곳에 중복저장되므로, 데이터 파괴로 인한 시스템 마비에 효과적으로 대응할 수 있다.

**보상**:
- 열심히 서비스 운영에 참여하는 이용자들에게는 일종의 인센티브로 보상을 준다.

> [!note] 
> 특정기업에서 비지니스 모델을 블록체인화 시키겠다 라고 하면, 이는 즉 기존 비지니스 모델을 협동조합모델로 바꾼다는 의미와 같다.

### Soft Fork vs Hard Fork
블록체인이라는 것이 합의(Consensus) 를 이루는 기술이었다. 우리가 어떤 합의를 이룰려면 규칙(Rule) 이 필요하다. 하지만 처음에 셋업해둔 규칙이 변하지 않고 영원할 수는 없음. 이유는 Rule 이 개정이 되어야하기 떄문임. Soft Fork 와 Hard Fork 는 규칙이 소폭 바뀌었냐 대폭 바뀌었냐의 차이임.

![](interview/images/Pasted%20image%2020240602213426.png)

**Soft Fork**
- 이러한 규칙이 소폭 바뀌면 Soft Fork
- 별 문제가 되지 않음.

**Hard Fork**
- 이러한 규칙이 대폭 바뀌면 Hard Fork
- 규칙이 대폭 바뀌기 때문에, 바뀐 룰을 따르지 않겠다는 사람들이 생기기 때문임. 이렇게 되면 Chain 자체가 둘로 나눠지게 됨. 그러면서 또 다른 화폐가 만들어지는 것임. BitCoin 이 있고, BitCoin Cash 이 있고 이 두개가 나눠진 이유가 이러한 규칙이 대폭 바뀌었기 때문임.

### PoW 기반 BlockChain 이 해결해야 할 문제들
작업증명에 기반한 BlockChain 이 과연 완벽한 기술인가? 어떤것들을 해결해야하는가?

**탈중앙화 (Decentralized)**
- BitCoin 을 만들 당시 나카모토는 모든 참가자가 `CPU` 를 이용해 채굴(Mining) 을 할 것이라고 생각함.
- 하지만 장부를 만들때마다 돈을 주니까 사람들이 CPU 보다 더 비싸고 좋은 장비들을 가지려고 하였기때문에
- 시간이 자날수록 특별히 채굴에 특화된 채굴 장비가 등장하기 시작함.
- 이는 곧 돈이 많은 사람이 장부를 만드는데 압도적인 우위에 있다는 소리이며, 결과적으로 인터넷 구성원 사이 `형평성의 문제` 가 있게 된다.

**Scale (확장성)**

**Consensus (합의)**


옛날엔 은행이 독점적으로 거래내역이 들어있는 장부를 만든 반면, BlockChain Consensus 기술은 구성원 모두가 은행의 역할을 하여, 구성원 모두 장부를 기록하는 것을 말한다.

- 이러한 인터넷 투표기능은 분산된 장부를 주기적으로 동기화하는 과정에 사용된다.
- `합의(Consensus) 기술이 내장된 분산장부` 이다.


암호화폐가 완성됬다 == 블럭체인이 완성됬다 == 인터넷 투표기술이 완성됬다


## Reference
https://www.youtube.com/watch?v=F9EWHJM8uNw
https://www.youtube.com/watch?v=MDRF4PMWdsg
https://www.youtube.com/watch?v=bvAOzteo3Uk&t=77s
https://www.youtube.com/watch?v=GjEGEs8cHZ0

매 10분마다 가장 정확한 블럭을 가장 빠르게 만들어서 타인과 공유하는 그 하나의 분산된 컴퓨터에게 인센티브를 보내줌.
