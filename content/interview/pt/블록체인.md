## BlockChain 의 등장 배경
2008 년 `리만 브라더스 은행` 결과로 은행에 대한 큰 적대심을 가지고 있던 사토시 나카모토가 "더 이상 신뢰할 수 없는 중앙집권적 은행제도를 벗어나고 싶어 만들게 된 기술입니다.

## Block 과 BlockChain
**BlockChain**
- 블록체인은 `중앙 집중화된 관리 방식을 여러개로 노드로 분산하여 탈중앙화된 관리하기 위한 기술`이다. 
- 블록체인은 모든 사람들이 감시자의 역할을 하여 위조 전자화폐의 위폐를 단속하는 기술입니다.

블록체인 기술을 이용하면 `분산화된 사용자 모두가 투표를 통해 화폐의 유효성을 검증하는 기존 은행의 역할을 대신` 할 수 있어, 기존의 중앙기관 역할을 하였던 은행을 없앨 수 있게 된다.

### BlockChain Consensus 기술
BlockChain Consensus(합의) 기술은 BlockChain 의 핵심기술로 `분산화된 사용자 및 시스템끼리의 거래 유효성을 검증하는 역할`을 한다. 이러한 블록체인 합의 기술에는 5가지가 있지만 대표적으로 `PoW 기술`이 있다.
#### PoW(Proof of Work)
이러한 `작업 증명(POW)` 을 기반으로 한 블록체인은, 블록체인상에서 블록을 생성하고 검증한 마이너에게 보상을 지급함으로써,  블록체인 네트워크를 최신 상태로 안전하게 유지하는 방법이다.

> [!note] 왜 보상을 줄까?
> Block 을 만들으려는 사용자들에게 자발적 동기부여를 주기 위함이다. 그렇다면 보상이 없으면 왜 안하려고 할까? 그 이유는 자기재산을 사용해야하기 때문이다 (예로 전기)

### PoW 기반 BlockChain 동작 원리
- Pow 기반의 블록체인은 10분마다 새로운 Block 을 만들게하여, 기존의 BlockChain 에 이어붙이게끔 하는 방식을 사용합니다.
- 10분마다 분산된 노드들끼리 Block들을 비교해가며 이 Block 들이 일치하는지 검사합니다.
- 이 과정속에서 Block 들이 일치하지않아 비잔틴오류가 발생한다면 다수결의 원칙에 따라 투표를진행합니다.
- 이 과정을 모두 끝내고, `제일 먼저 Block 을 만들고 이를 공유한 노드에게 BTC 를 제공하여 보상`을 주게 됩니다. 이것을 채굴이라 말합니다.

### BlockChain 의 본질과 특징
**탈중앙화**
- 분산된 모든 사용자들이 투표를 통해 거래의 유효성을 검증하기 때문에 은행과같은 중앙기관을 없앨 수 있습니다.

**투명성**
- 똑같은 정보를 담은 블록체인이 모든 이용자들의 하드디스크에 저장되어있기 때문에 `"너가 볼 수 있는 데이터(장부) 는 나도 똑같이 볼 수 있습니다"`. 이로 인해 정보의 비대칭성 사라지게 됩니다. 

**불변성**
- 모든 이용자들의 하드디스크에 똑같은 블록체인이 저장되어있기 때문에 블록체인에 기록된 데이터를 삭제하거나 수정하려면 이용자들의 동의없이 불가능하다.

**가용성**
- 데이터가 분산된 시스템에 중복저장되므로, 데이터 파괴로 인한 시스템 마비에 효과적으로 대응할 수 있다.

### BlockChain 의 활용
메타버스, DID, 암호화폐, NFT 기술에 적극적으로 응용되고 있습니다.
1. 메타버스
2. DID
3. 암호화폐
4. NFT

### PoW 기반 BlockChain 의 문제와 해결방안
**형평성과 환경문제**
- BitCoin 을 만들 당시 사토시 나카모토는 모든 참가자가 `CPU` 를 이용해 채굴(Mining) 을 할 것이라고 생각함.
- 하지만 장부를 만들때마다 돈을 주니까 사람들이 CPU 보다 더 비싸고 좋은 장비들을 가지려고 하였습니다.
- 이러한 장비들은 전기, 및 에너지 소모가 매우 크기 때문에 환경 문제가 있을 수 있습니다.
- 이는 곧 돈이 많은 사람이 채굴을 하는데 압도적인 우위에 있다는 소리이며, 결과적으로 인터넷 구성원 사이 `형평성의 문제` 를 야기할 수 있습니다.
- **해결방안**
	- 기존읜 Pow 방식에서 **디지털 자산에 대산 지분 수에 비례하여 블록에 기록할 권한을 더 많이 부여하는 증명 방식**인 PoS(지분증명) 방식으로 환경문제와 형평성의 문제를 해결할 수 있습니다.

**확장성 문제**
- 시간이 지날수록 사용자수가 많아짐에 따라 점점 하나의 Block 에 포함되는 트랜잭션의 수가 많아지고, 결국 1MB Block 의 크기가 부족할 수 있는 문제가 발생할 수 있다.
- **해결방안**
	- 기존 Block 의 서명 부분을 Witness 데이터를 교환하여 좀더 효율적인 저장방식으로 개선할 수 있습니다.
	- 하지만 해당 방식은 기존 Block 과의 합의 보는 과정에서 문제가 생길 수 있습니다. => Soft Fork 로 해결

> [!note] WItness 데이터
> 트랜잭션의 서명 데이터를 블록의 핵심 데이터에서 분리하여 더 효율적으로 블록 공간을 사용합니다. 이 분리된 데이터는 "Witness 데이터"로 알려있고 더 효율적으로 블록 공간을 사용할 수 있다.

## Sybil Attack
유효한 Block 은 길이가 가장 긴 Block 이다. 해커는 이점을 이용하여 `허위 계정 여러개`를 생성하여 Block 을 자신의  의도대로 길게 만들어 블록체인을 위변조시킬 수 있다. 이 공격을 `Sybil Attack` 이라고 한다.

> [!note] Sybil Attack 해결책
> Sybil Attack 을 해결하기위해서는 사용자가 Block 을 만드는 과정에 적당히 어려운 암호퍼즐을 같이 풀도록 하면 된다.
> 정확히는 암호퍼즐을 해결했다는 작업증명을 한 경우에만 Block 을 생성할 수 있게 하는것이다.

## Soft Fork vs Hard Fork
블록체인이라는 것이 합의(Consensus) 를 이루는 기술이었다. 우리가 어떤 합의를 이룰려면 규칙(Rule) 이 필요하다. 하지만 처음에 셋업해둔 규칙이 변하지 않고 영원할 수는 없음. 이유는 Rule 이 개정이 되어야하기 떄문임. Soft Fork 와 Hard Fork 는 규칙이 소폭 바뀌었냐 대폭 바뀌었냐의 차이임.

![](interview/images/Pasted%20image%2020240602213426.png)

**Soft Fork**
- 이러한 규칙이 소폭 바뀌면 Soft Fork
- 별 문제가 되지 않음.

**Hard Fork**
- 이러한 규칙이 대폭 바뀌면 Hard Fork
- 규칙이 대폭 바뀌기 때문에, 바뀐 룰을 따르지 않겠다는 사람들이 생기기 때문임. 이렇게 되면 Chain 자체가 둘로 나눠지게 됨. 그러면서 또 다른 화폐가 만들어지는 것임. BitCoin 이 있고, BitCoin Cash 이 있고 이 두개가 나눠진 이유가 이러한 규칙이 대폭 바뀌었기 때문임.

## 블록체인의 진화

| 세대  | 특징                | 블록체인에 저장 및 공동 관리되는 정보 | 사례                                                                          |
| --- | ----------------- | --------------------- | --------------------------------------------------------------------------- |
| 1세대 | 금융업의 블록체인화        | 금융정보                  | 탈중앙형 전자화폐, 비트코인 => DeFi(Decentralized Finance)                              |
| 2세대 | 인터넷 플랫폼 기업의 블록체인화 | 프로그램 코드               | 플랫폼형 전자화폐, 이더리움(스마트컨트랙트 & dApp) => DAO (Decentralized Ortamus Organization) |
| 3세대 | 국가 신원.등기업의 블록체인화  | 소유권 정보                | DID(신분증) => NFT(등기권리증)                                                      |
|     |                   |                       |                                                                             |

## Reference
https://www.youtube.com/watch?v=F9EWHJM8uNw
https://www.youtube.com/watch?v=MDRF4PMWdsg
https://www.youtube.com/watch?v=bvAOzteo3Uk&t=77s
https://www.youtube.com/watch?v=GjEGEs8cHZ0

매 10분마다 가장 정확한 블럭을 가장 빠르게 만들어서 타인과 공유하는 그 하나의 분산된 컴퓨터에게 인센티브를 보내줌.